<div class="page">
  <div *ngIf="isAuthorized; else authSection">

    <div class="header">
      <h2>Recently played tracks</h2>
      <hr/>
    </div>

    <div class="recently-played-tracks">
      <div>
        <div *ngFor="let track of tracks" class="track-info">
          <p class="track-details">
            <span><small>{{ track.played_at | dateFormat }}</small></span> <br/>
            <span>{{ track.track.name }}</span>
            <span><i><small> by {{ getArtistNames(track.track.artists) }}</small></i></span>
          </p>
        </div>
      </div>
    </div>
  </div>

  <ng-template #authSection>
    <div class="authentication-prompt">
      <p>Before you can do anything on this site, you need to authenticate, so your Spotify data can be collected.</p>
      <button class="login-button" (click)="login()">Log In with Spotify</button>
    </div>
  </ng-template>
</div>
